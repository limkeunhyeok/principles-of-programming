# Chapter 2 원칙-프로그래밍의 가이드라인

## 2.1 KISS - Keep It Simple, Stupid / Keep It Short and Simple

### 코드는 단순하게 유지한다

- 코드를 작성할 때 최우선 가치를 단순성과 간결성에 둔다.
- 오류 작성이나 기능 확장할 때도 항상 복잡해지지 않도록 의도적으로 코드를 단순하게 유지한다.

### 코드는 무질서로 향한다

- 복잡한 코드는 읽기 어렵고 수정하기 어려워진다.
- 단순한 코드는 읽기 쉽고 이해하기 쉬우며 수정이 용이하다.

### 코드에 불필요한 것을 하지 않는다

- 코드에서 불필요한 것과 넘치는 것을 가능한 한 제거해야 하며, 이를 위해 가장 간단한 방법은 무엇인지 항상 질문을 던져야 한다.

### KISS의 적용 범위

- KISS는 엔지니어링 전반에 적용되는 원칙이다.
- 요구사항에 대해 비교적 유연하게 대응할 수 있다고 생각하는 것이 하나의 요인이다.

### less is more

- 단순한 것이 더 아름답다.
- 불필요한 코드를 작성하지 않음으로써 코드를 단순하게 유지하고 갖가지 문제를 미리 회피할 수 있다.

### 오컴의 면도날

- 오컴의 면도날이란 어떤 사항을 설명하는 데 필요 이상으로 많은 전제를 가정해서는 안된다는 사고방식이다.
- 가장 단순한 방식이 옳다는 뜻이다.

## 2.2 DRY - Don't Repeat Yourself

### 코드 복사는 금물

- 똑같은 코드를 중복해서 작성해서는 안된다.
- 로직을 복붙할 경우, 같은 로직이 여러 군데로 흩어진다.
- 제어문 블록도 여러 군데 중복해서 나타날 때도 있다.
- 정수 리터럴을 직접 코드에 내장하는 것도 코드 중복에 해당한다.
  - 정수가 가리키는 정보가 중복해서 존재하기 때문이다.

### 코드를 개선할 수 없다

- 코드 중복이 있으면 다음과 같은 어려움이 있다.

1. 코드를 읽는 작업이 어려워진다.
2. 코드를 수정하는 작업이 어려워진다.
3. 테스트가 없다.

### 코드를 추상화한다

- 처리하는 코드를 묶고 이름을 붙여 함수화, 모듈화하고, 데이터라면 이름을 붙여 상수를 정의한다.
- 추상화 장점
  - 코드의 양이 줄어 읽는 양을 줄일 수 있다.
  - 로직이나 데이터에 이름이 붙었으므로 코드가 읽기 쉬워진다.
  - 똑같은 코드가 한 군데에 집약되어 있어서 한 군데만 수정하면 되므로 코드를 수정하기 쉽고, 품질을 담보하기 쉬워진다.
  - 추상화한 부분은 재사용하기 쉬워진다. 새로운 기능을 추가할 때 코드를 재사용하면 더욱 빠르고 품질 좋게 프로그래밍을 완료할 수 있다.

### DRY의 적용 범위

- DRY는 소프트웨어 개발에 관한 모든 활동에 적용할 수 있다.
- 구체적으로는 반복되는 작업을 자동화해야 한다.
  - 대표적인 작업으로 지속적인 통합이라는 테스트/빌드/배포 작업이 있다.

### DRY와 프로그래밍 기술

- 프로그래밍 기술의 대부분은 코드 중복을 제거하는 것을 목적 중 하나로 삼고 있다.
- 객체 지향도 중복 제거를 위한 기법이 내재되어 있으며, 디자인 패턴도 코드를 재사용 가능하게 하려고 구조 패턴을 제공한다.

### 불가피한 DRY 위반

- 소프트웨어 개발에서는 어느 정도 불가피한 중복도 존재한다.
- 대표적인 사례로 객체지향 프로그래밍의 클래스와 관계형 데이터베이스의 테이블이다.
  - 관계형 데이터베이스 쪽에 테이블 정의, 코드 쪽에 테이블 매핑 설정 파일, 소스 파일 이렇게 세 군데에 같은 정보를 갖고 있어야 한다.

### WET

- DRY와 대비되는 개념으로 Write Every Time 또는 Write Everything Twice의 약아로 같은 것을 반복한다는 의미이다.
- DRY가 되어 있지 않은 코드에 대해 비꼬는 표현으로 사용한다.

### One Fact in One Place(OFOP)

- 한 곳에는 하나의 사실이라는 의미로 데이터베이스 논리 설계에서 테이블 설계의 핵심이 되는 원칙이다.
- OFOP는 데이터베이스에 저장되는 데이터의 중복을 금지한다.

### Once and Only Once(OAOO)

- 한 번만, 단 한 번만이라는 의미이다.
- DRY와 의미나 목적은 동일하나, 적용 범위가 좁고 프로그래밍 컨덱스트에서만 사용된다.

### 레거시 코드

- 최근 레거시 코드는 테스트가 없는 코드라고 재정의되었다.
- 중복 코드는 대부분 테스트가 없다.
- 테스트 없이 코드를 변경하는 작업은 위험하며, 품질을 지키는데 있어 반드시 필요한 절차이다.

## 2.3 YAGNI - You Aren't Going to Need it

### 코드를 필요할 때 최소한으로

- 코드를 '아마 필요하겠지', '필요해질지도 몰라' 같은 식으로 작성해서는 안 된다.
- 필요한 코드만을 작성한다는 방침으로 프로그래밍에 임해야 한다.

### 코드의 예측은 빗나간다

- 여러 가지 사태에 대비해 코드를 넣어 두더라도 결국 이용되지 않는 것이 대부분이다.
- 확장성을 염두에 두면 오히려 코드에 불필요한 복잡성을 담는 셈이 된다.

### 코드는 지금 필요한 것만

- 범용성보다는 단순성을 생각하는 것이 좋다.
- 범용성이 가져다주는 재사용성이나 확장성도 좋지만, 그보다는 우선 사용할 수 있는 데 가치를 두는 것이 좋다.

### DTSTTCPW

- Do The Simplest Thing That Could Possibly Work의 약어로 효과가 있는 방법 중에서 가장 간단한 방법으로 하라라는 의미이다.
- 나중을 생각해서 프로그래밍하면 코드의 복잡성이 증가하고 변경 비용이 급상승한다.
