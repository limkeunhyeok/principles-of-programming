# Chapter 3 사상-프로그래밍의 이데올로기

## 3.55 UNIX 철학

### UNIX를 계속 지탱해주는 철학

- 작은 것이 아름답다.
- 한 번에 하나의 작업
- 즉시 프로토타입 진행
- 효율성보다 이식성
- 데이터는 텍스트로
- 레버리지 소프트웨어
- 셸 스크립트 활용
- 대화형 인터페이스 회피
- 필터화

### UNIX 철학은 보편적이다

- UNIX에 채용된 아이디어는 다른 대부분의 소프트웨어 개발에도 활용 및 응용되고 있다.

### UNIX 철학을 이용한다

- 설계 철학의 배경에 있는 이유를 파악해 두면 적절한 방침을 선택할 수 있다.

## 3.56 작은 것이 아름답다

### 작은 소프트웨어는 아름답다

- 작은 소프트웨어는 단순하고 다루기 쉬우며 큰 소프트웨어보다 훨씬 뛰어나다.

### 작은 소프트웨어는 다루기 쉽다

- 이해가 쉽다.
- 보수가 쉽다.
- 머신 자원에 부담을 주지 않는다.
- 다른 소프트웨어와 조합하기 쉽다.
- 큰 소프트웨어는 복잡하고 코드를 이해하기 어렵다.
- 큰 소프트웨어는 예측하지 못한 사태에 대응할 수 없다.

### 작게 만들고 작게 유지한다

- 소프트웨어를 설계할 때는 작게 설계해서 하나의 작업에 전념하도록 한다.
- 기능이 부족할 때는 다른 소프트웨어와 연계하면 된다.
- 소프트웨어를 작게 하려면 해결할 문제를 제대로 이해해야 한다.

## 3.57 한 번에 하나의 작업

### 하나의 소프트웨어는 하나의 작업

- 가장 좋은 소프트웨어란 생애 중에 단 하나의 작업만을 제대로 완수하는 소프트웨어다.

### 소프트웨어가 순수해진다

- 하나의 작업에 집중함으로써 코드에 불필요한 부분을 없앨 수 있다.
- 하나의 작업에 집중함으로써 해당 작업의 본질을 파악할 수 있다.
- 하나의 작업을 제대로 하는 소프트웨어가 만들어지면 다른 소프트웨어 안에서도 비교적 쉽게 재사용할 수 있다.

### 하나의 작업에 집중

- 문제가 크다면 문제를 작게 분할한다.
- 문제가 확장되었다면 별도로 하나의 작업을 하는 소프트웨어를 작성하고 조합함으로써 대응한다.
- 하나의 작업을 하는 단순한 소프트웨어가 작성되었다면 거기에 새로운 기능이나 옵션을 붙이는 유혹에 넘어가지 않도록 한다.

## 3.58 즉시 프로토타입 진행

### 가능한 한 빨리 프로토타입 착수

- 어떤 아이디어가 성공할 것 같은지, 눈에 보이는 형태로 현실화할 수 있는지를 확인하려면 시험 삼아 만들어보는 방법이 가장 좋다.
  - 이렇게 만든 시제품을 프로토타입이라고 부른다.
- 프로토타입에 의한 학습을 통해 개발의 추진력이 높아진다.

### 시행착오 없이 좋은 것은 만들 수 없다

- 소프트웨어 개발에서도 처음부터 완벽한 소프트웨어를 작성하는 것은 불가능하다.
- 소프트웨어에서는 계속적인 개선 작업이 필수적이다.
- 시제품 이전의 아이디어는 억측의 단계를 벗어나지 않는다.

### 프로토타입으로 정확도를 높인다

- 전제의 착오를 조기에 발견할 수 있다.
- 요구사항 불충분에 따른 재작업을 줄일 수 있다.
- 조기에 착오를 바로잡는 작업을 시작할 수 있다.

### 제3시스템

- 제1시스템: 성능은 매우 높지만 필요한 기능은 몇 가지 빠져있다.
- 제2시스템: 시계추가 반대로 돌아가 이번에는 기능은 많지만 성능이 희생되어 있다.
- 제3시스템: 양자 간에 최적의 균형을 모색한 결과 정말로 필요한 기능만이 남고 적정 자원으로 대부분의 목표를 달성할 수 있다.
- 시스템을 개발할 때 제3시스템을 지향해야 하며, 앞선 2개의 시스템을 만들어 이를 달성한다.

## 3.59 효율성보다 이식성

### 효율성보다 이식성을 우선

- 소프트웨어 설계는 선택의 연속이며, 이식성과 개발 효율성을 선택할 때 이식성을 우선시한다.
- 이식성은 다른 플랫폼에 맞춰서 코드를 바꿔 작성할 때 비용이 적게 끝나는 소프트웨어 능력이다.

### 소프트웨어의 가치를 지속

- 하드웨어와 분리될 수 없는 소프트웨어는 하드웨어가 계속 경쟁력을 갖는 동안에만 가치를 유지할 수 있다.
- 이식성에 중점을 두고 개발한 소프트웨어는 새로운 하드웨어로의 이식 비용이 줄어든다.

### 하드웨어에 종속되지 않는 코드를 작성한다

- 이식성을 위해 하드웨어에 종속되는 부분과 종속되지 않는 부분을 분리하여 설계한다.
  - 하드웨어에 종속되지 않는 부분은 재사용하기 쉬운 단위로 모듈화해 둔다.
- 이식성을 위해서라도 코드의 최적화에는 시간을 들이지 않도록 한다.

## 3.60 데이터는 텍스트로

### 바이너리보다 텍스트 파일

- 데이터는 텍스트 파일로 저장한다.
- 데이터의 이식성도 중시해야 하며, 이에 대한 해답은 텍스트 파일이다.

### 텍스트 파일은 만능 형식

- 가장 일반적이면서 이식성이 높은 형식이다. 데이터 파일은 코드보다 이동이 용이하므로 더욱 이식성이 높아진다.
- 사람이 데이터를 즉시 확인할 수 있다. 일반적인 텍스트 편집기로 열람할 수 있고 수정하기도 쉽다.
- 툴이나 명령 쪽에서 다루기 쉬운 형식이다. 바이너리 형식처럼 다른 바이너리 형식으로의 변환을 신경쓸 필요가 없다.

### 표쥰 규격의 텍스트 파일

- 각각의 소프트웨어는 텍스트 파일을 입출력하도록 설계해서 소프트웨어끼리 쉽게 연계되도록 한다.
- 텍스트 파일 안에서도 언어나 운영체제에 종속되지 않는 표준적인 형식(CSV나 XML 등)을 선택한다.

## 3.61 레버리지 소프트웨어

### 소프트웨어의 지렛대로 힘 증폭

- 소프트웨어는 지렛대로 사용함으로써 자기 힘을 몇 배나 증폭시킬 수 있는 장치가 된다.
- 지렛대 효과를 얻는 방법은 기존 소프트웨어를 재사용하면서 소프트웨어와 소프트웨어를 조합하는 것이다.

### 적은 노력으로 큰 성과를 얻는다

- 코드를 대량으로 작성하는 가장 좋은 방법은 빌려오는 것이다.

### 수작업을 자동화한다

- 각각이 단일 기능이며 단일 가치에 집중하는 작은 소프트웨어를 작성한다.
- 소프트웨어의 지렛대를 효과적으로 이용하는 사례 중 하나가 바로 수작업의 자동화다.

## 3.62 셸 스크립트 활용

### 셸 스크립트로 붙인다

- 셸 스크립트를 통해 지렛대 효과와 이식성을 높인다.
- 지렛대 효과
  - 셸 스크립트를 사용해서 다른 소프트웨어나 명령을 연결한다.
- 이식성
  - 셸 스크립트는 인터프리터로서 플랫폼 전용 바이너리로 컴파일할 필요가 없다.

### 지렛대 효과를 증폭한다

- 셸 스크립트에서 사용하는 명령은 프로그래머가 직접 작성하는 것이 아닌, 다른 누군가의 거대한 노력의 성과다.
- 하나의 플랫폼에서 다른 플랫폼으로 쉽게 이식할 수 있는 소프트웨어는 많은 사람이 사용할 가능성이 있다.

### 글루 언어는 셸 스크립트

- 작은 소프트웨어를 셸 스크립트로 연결해서 큰 작업을 완수한다.

### 글루 언어

- 글루 언어란 소프트웨어끼리 연결하는 것을 주안점으로 삼는 언어를 말한다.

## 3.63 대화형 인터페이스 회피

### 구속적 사용자 인터페이스는 피한다

- 대화형 인터페이스는 구속적 인터페이스라고도 불린다.
  - 이는 한 소프트웨어가 명령 인터프리터의 상위에 서서 사용자와 대화하는 유형을 말한다.
- 이런 소프트웨어가 일단 실행되면 소프트웨어가 종료되기 전까지는 명령 인터프리터와 대화를 할 수 없다.

### 사용자도 머신도 소프트웨어도 구속당한다

- 대화형 인터페이스의 문제점
  - 소프트웨어별로 독자적인 대화 방법을 기억해야 한다.
  - 소프트웨어끼리 대화할 수 없다.
  - 대기 시간이 많아진다.
  - 입력 부분에 대한 해석 코드가 많아지고 흉해진다.
  - 큰 것이 아름다운 접근법으로 변질된다.

### 명령 인터프리터에게 제어를 반환한다

- 소프트웨어의 대화 상대는 어디까지나 사람이 아닌 소프트웨어를 중심으로 생각하도록 한다.
- 하나의 작업을 하고 그것이 끝나면 명령 인터프리터에게 제어를 반환하는 소프트웨어를 작성한다.

## 3.64 필터화

### 소프트웨어를 필터로 설계

- 필터란 입력 스트림을 데이터로 받아들여 어떤 형태로든 가공한 다음 가공된 데이터를 출력 스트림으로 송출하는 것이다.

### 소프트웨어란 입출력이다

- 애초에 모든 데이터는 사람이 만드는 것이고 모든 소프트웨어는 데이터를 처리하는 필터다.

### 표준 입출력을 사용한다

- 명령을 실행하는 소프트웨어는 특히 표준 입출력을 올바르게 취급하도록 설계한다.
- 데이터 입력에는 표준 입력, 데이터 출력에는 표준 출력을 사용한다.

### UNIX 철학과 작은 정리

#### 환경 커스터마이즈

- 사용자가 취향에 따라 직접 환경을 조정할 수 있도록 한다.
- 소프트웨어에 유연성이 있으면 사용자는 해당 소프트웨어를 쉽게 사용하는 방법을 배우는데 기꺼이 시간을 들인다.
- 직접 조정한 환경에 익숙해지면 익숙해질수록 조정할 수 없는 환경으로는 옮기고 싶어 하지 않는다.

#### 작고 가벼운 커널

- 운영체제의 커널은 작고 가벼워야 한다.

#### 소문자 사용

- 명명에는 소문자를 쓰되 길이는 짧게 한다.

#### 자연 보호

- 종이에 인쇄된 데이터는 정렬도, 이동도, 필터 처리도, 변형도, 수정도 할 수 없다.
- 모든 텍스트 파일을 컴퓨터에 저장하면 강력한 툴로 데이터들을 조작할 수 있다.

#### 침묵은 금

- 소프트웨어는 메시지 출력을 최대한으로 줄이도록 한다.
- 침묵을 지키면 다른 소프트웨어와 조합하기도 쉬워진다.

#### 병렬 사고

- 병행해서 생각하도록 한다.
  - CPU를 가능한 한 바쁘게 작동시키는 것을 의미한다.

#### 부품 협력

- 부분의 총합은 전체보다 커진다.
- 작은 부품을 모아서 큰 소프트웨어를 만드는 쪽이 대규모 소프트웨어를 단일체로 구성하는 것보다 소프트웨어로서의 가치가 높다.
- 작은 부품의 집합에 의한 소프트웨어는 유연성 면에서 뛰어나며, 다른 부품을 조립함으로써 오래도록 사용할 수 있는 소프트웨어가 된다.

#### 90%의 해

- 어떤 일이든 100% 잘 해내기란 어렵다.
- 대상 사용자의 90%가 만족하는 해를 지향하고 나머지 10%에게는 본인이 어떻게든 하게끔 만드는 것이 균형 잡힌 자세다.

#### 열등해야 뛰어나다

- UNIX에서는 열등한 것의 생존 능력에 주목해서 열등한 쪽이 뛰어나다고 하는 역설적인 사고 방식이 침투해 있다.

#### 계층 지향

- 구조를 계층적으로 생각한다.
- UNIX 파일 시스템에 적용된 디렉터리 구조는 최초의 계층 구조 아키텍처다.
- 자연계의 질서는 계층을 이루고 있다.
