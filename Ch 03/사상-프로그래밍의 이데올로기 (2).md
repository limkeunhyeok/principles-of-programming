# Chapter 3 사상-프로그래밍의 이데올로기

## 3-5 결과의 국소화

### 변경의 영향을 억제한다

- 변경이 미치는 영향이 국소에 머무르도록 코드를 구성한다.

### 수정과 확인이 쉽도록

- 결과가 국소화되어 있지 않으면 어느 부분의 변경이 전혀 별개의 부분에 영향을 미쳐 변경 비용이 급증한다.
- 결과가 국소화되어 있으면 코드를 읽는 범위와 수정에 따른 영향 범위가 모두 한정되며, 의사소통이 원활해지는 효과도 기대할 수 있다.

### 관계가 밀접한 코드를 한데 모은다

- 관계성이 높은 코드는 집약해서 모듈화한다.
- 관계성 관점에서 서로 자주 호출되는 모듈은 함께 있어야 할 요소가 분산되어 있을 가능성이 있다.

## 3-6 반복의 최소화

### 중복을 제거한다

- 반복의 최소화는 중복을 최대한 제거한다는 뜻이다.
- 반복의 최소화를 계기로 많은 기술이 생겨났다.

### 수정의 영향을 국소화한다

- 반복 코드는 결과의 국소화 원칙을 침해하고 변경 비용을 증대시킨다.
- 반복 코드에서, 하나를 변경하면 나머지 모든 것도 변경해야 하는지, 아닌지를 판단해야 한다.

### 코드를 분할해서 관리

- 큰 코드 덩어리는 다른 코드 덩어리와 어딘가 똑같은 부분을 포함하고 있을 것이다.
- 큰 덩이리를 잘게 쪼개면 공통 분모를 쉽게 도출할 수 있다.

## 3-7 로직과 데이터의 일체화

### 데이터와 조작은 가까이에

- 로직과 데이터의 일체화란 로직과 해당 로직이 조작하는 데이터를 서로 가까이에 배치시키는 것을 뜻한다.

### 데이터와 조작은 수정 시점이 같다

- 코드를 수정할 때 로직과 해당 로직이 조작하는 데이터는 대개 같은 시점에 변경된다.
  - 따라서 로직과 데이터가 코드상 같은 곳에 있다면 코드를 읽는 양이 줄고 변경도 영향을 미치지 않는다.

### 데이터와 조작을 같은 장소에

- 로직과 데이터를 코드상 가까이에 배치하는 것이 좋다.
  - 일단 임시로 배치했다가 나중에 타당한 곳으로 옮기는 것이 효율적이다.
  - 타당한 판단은 시행착오를 거치는 과정에서 분명해진다.

## 3-8 대칭성

### 코드에 일관성을 갖게 한다

- 대칭성이란 일반적으로 어떤 변환에도 현하지 않는 성질을 가리킨다.
- 대칭성은 결국 그룹 안에서의 수준 맞추기로, 같은 종류의 것, 즉 동질의 것은 같은 수준으로 표현한다.

### 다른 부분도 유추할 수 있다

- 코드에서 대칭성을 특정하고 명확하게 표현할 수 있다면 코드는 매우 읽기 쉬워진다.
- 대칭성의 추구는 본질상 중복을 제거하기 위한 준비 작업이기도 하다.

### 같은 것을 같은 표현으로

- 추가 메서드가 있다면 대응하는 삭제 메서드를 작성한다.
- 특정 그룹에 있는 함수는 같은 파라미터를 갖도록 한다.
- 특정 모듈 안의 데이터는 전부 생존 기간이 같아지게끔 한다.
- 특정 함수 안에서 호출하는 함수의 추상도는 같은 수준으로 한다.

## 3-9 선언형의 표현

### 선언형으로 프로그래밍

- 선언형의 표현이란 코드의 의도를 전하고자 할 때 가능한 명령형보다는 선언형으로 표현하는 것을 뜻한다.
- 명령형 프로그래밍은 자료구조와 알고리즘을 기술한다.
- 선언형 프로그래밍은 문제의 정의, 즉 해결해야 할 문제의 성질이나 이때 충족해야 할 제약을 기술한다.

### 흐름이 없어야 읽기 쉽다

- 선언형 코드는 순서나 조건 분기가 없다.
- 명령형 코드는 항상 상태와 제약, 데이터의 흐름을 머릿속에 그리지 않으면 사실을 정확하게 이해할 수 없다.

### 선언형을 도입한다

- 프로그래밍의 패러다임이 선언형인 언어를 사용한다면 상관없으나, 명령형인 언어는 선언형 표현을 부분적이라도 도입해 선언형의 이점을 누리는 것이 좋다.

## 3-10 변경 빈도

### 변경 이유로 그룹핑

- 변경 빈도란 코드를 수정하는 시점이 같다는 의미다.
- 같은 시점에 변경되는 요수는 같은 곳에 두고, 다른 시점에 변경되는 요소는 다른 곳에 분리해 두도록 한다.

### 변경 범위가 좁아진다

- 모듈처럼 어떤 형태의 단위로 그룹핑된 코드에서 변경 이유를 여러 개 가진 코드는 깨지기 쉬운 코드다.
- 변경 이유가 하나라는 것은 관련성이 높은 코드가 집합해 있다는 뜻이다.

### 변경 이유로 소속을 정한다

- 변경하는 시점이 같은 요소는 같은 곳에, 다른 요소는 다른 곳에 두는 것이 좋다.
- 특정 모듈안에 변경되는 여러 개의 데이터가 있더라도 해당 모듈 안의 다른 변수와 동기화할 필요성이 없다면 별도의 보조 모듈을 만들어 그쪽으로 옮긴다.

### 단일 책임의 원칙

- 단일 책임의 원칙(SRP: the Single Responsibility Principle)이란 모듈을 변경하는 이유가 여러 개 존재해서는 안 된다는 원칙이다.
- 변경 이유가 여러 개 있다는 뜻은 역할도 여러 개 있다는 뜻이며, 깨지기 쉬운 모듈이다.
- 한 개의 모듈은 하나의 책임을 갖는다.
