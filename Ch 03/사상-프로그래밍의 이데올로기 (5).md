# Chapter 3 사상-프로그래밍의 이데올로기

## 3.20 참조의 단일성

### 정의는 한 번만

- 모듈의 요소에 관한 선언과 정의는 1회로 제한한다.
- 변숫값의 변화를 추적하지 않아도 되므로 직관적인 코드가 된다.

### 부작용이 없는 프로그래밍

- 프로그래밍에서 부작용이란 어떤 기능이 모듈의 상태를 변화시켜 이후로 얻게 될 결과에 영향을 미친다는 뜻이다.
- 부작용을 갖지 않으면 상태 변화 없이 항상 같은 결과를 얻을 수 있기 때문에 상황 종속에 따른 오류 발생을 줄일 수 있다.

### 단일 대입을 한다

- 단일 대입이란 변수에 값을 재대입하지 않는 것이다.
- 부작용을 피하려면 변수를 변하지 않는 것으로 파악해 처음 한 번 대입한 값은 나중에 변경하지 않도록 한다.
- 최대한 상수를 이용하거나 코드 규약 등의 규칙으로 재대입을 제한하는 등 언어 사양의 제약에 얽매이지 말고 부작용이 없는 코드를 작성하도록 한다.

### 변수 제어의 코드 품질을 올린다

- 오류가 발생하기 쉬운 부분은 필연성이 없는 가변(mutable)의 변수다.
  - 불필요한 가변성을 제거하고 불변(immutable)의 변수를 늘린다면 품질이 향상된다.
- 가변의 변수는 해당 변수에 접근하는 로직이나 스코프를 최대한 줄인다.

### 참조 투과성

- 호출 결과가 파라미터에만 종속된다.
  - 같은 입력에 항상 같은 출력 값을 받는다(이를 순수하다고 표현한다).
- 호출이 다른 기능의 동작에 영향을 주지 않는다.
  - 함수가 부작용을 갖지 않는 특성이다.
- 참조 투과성을 충족하는 함수는 동작이 외부 상태로부터 독립적이고 자기 완결적이다.
  - 테스트가 쉬워지고, 최적화도 수행하기 쉬워진다.

## 3.21 분할 정복

### 커다란 문제를 잘게 나눈다

- 그대로는 해결하기 어려운 커다란 문제는 여러 개의 작은 문제로 분할해서 개별적으로 해결한다.

### 커다란 상태로는 제어 불능

- 커다란 문제를 그 자체로 해결하려면 어려워지고 시간이 많이 걸린다.
- 제어하기 쉬운 규모까지 문제를 분할하고 거기서부터 착수하는 방식이 효율적이다.

### 잘게 쪼개 각개 격파

- 소프트웨어 전체를 설계할 때는 독립해서 설계할 수 있는 부분으로 분할한 다음 착수한다.
- 모듈을 설계할 때는 책임과 책무라는 관점에서 모듈을 분할하도록 한다.
- 알고리즘을 설계할 때는 병합 정렬처럼 상향식으로 분할하고 나서 문제를 해결할 수 없는지를 검토한다.
- 대량의 데이터를 처리하는 설계를 할 때는 MapReduce처럼 계산을 작은 단위로 분할하여 분산환경에서 병행 처리할 수 있는지를 검토한다.

## 3.22 아키텍처 비기능 요구사항

### 기능 외적인 기능이라는 관점

- 비기능 요구사항이란 기능 외적인 면 전반에 관한 요구사항을 뜻한다.
- 비기능 요구사항 관점
  - 변경 용이성
  - 상호 운용성
  - 효율성
  - 신뢰성
  - 테스트 용이성
  - 재사용성

### 비기능은 배포 후에 큰 영향

- 비기능적인 특성은 개발이나 유지보수, 운용, 컴퓨터 리소스의 효율적 활용에 커다란 영향을 미친다.

### 비기능 관점에서 설계

- 요구사항을 정의할 때는 각각의 관점이 어느 정도 필요해 질지를 확인한다.
- 개발할 때는 아키텍처 설계 시점에 비기능 요구사항을 고려한 구조를 고민한다.
- 테스트할 때는 비기능 요구사항을 충족하고 있는지를 확인한다.

### 비기능 테스트

- 기능 테스트는 무엇을 하는지, what에 주목한다.
- 비기능 테스트는 어떻게 동작하는지, how에 주목한다.
- 비기능 요구사항을 충족하려면 해당 소프트웨어에 최적인 비기능 요구사항 수준을 판별한 후에 비기능 테스트에도 합격 기준을 마련하는 것이 필요하다.

### 보안 비기능 요구사항

- 정보 보안이란 쉽게 말해 소프트웨어가 다루는 정보 자산을 부정한 접근이나 유출, 조작으로부터 지키고 언제라도 사용 가능한 상태로 만들어 두는 것이다.
- 정보 보안의 3대 요소
  - 기밀성(Confidentiality)
  - 무결성(Integrity)
  - 가용성(Availability)

#### 기밀성

- 인가되지 않은 개인, 엔티티, 프로세스에 대해 정보를 사용 불가 또는 비공개로 하는 특성으로 정의된다.
- 허가되지 않은 사람이 정보를 사용하지 못하게 만드는 것이다.

#### 무결성

- 자산의 정확함과 완전함을 보호하는 특성으로 정의된다.

#### 가용성

- 인가된 개체가 요구했을 때 접근 및 사용이 가능한 특성으로 정의된다.
- 원할 때 정보에 접근할 수 있고 이용할 수 있어야 한다.
- 조직 입장에서 유지하고 있는 중요한 정보에 언제라도 확실히 접근할 수 있어야 한다는 점은 필수 사항이다.

### 보안 검증

- 보안 검증에서는 우선 모의 침투 테스트(penetration test)를 수행한다.
- 모의 침투 테스트란 보안 취약성을 찾아내기 위해 소프트웨어를 실제로 공격해서 침입을 시도해보는 검증 기법이다.
- 보안 검증에서는 보안 사고 발생 시의 추적 가능성 및 감사 능력의 평가도 요구된다.
- 보안 대책으로 인해 소프트웨어 편의성에 영향을 미치지는 않는지 신경을 써야 한다.
