# Chapter 3 사상-프로그래밍의 이데올로기

## 3.15 패키지화

### 모듈을 그룹핑

- 모듈을 의미 있는 단위로 모은 다음 그룹화하고, 이렇게 분할된 단위를 패키지라고 한다.
- 패키지는 소프트웨어의 논리 구조를 물리 구조에 저장하는 방법을 결정한다.

### 모듈의 복잡도를 낮춘다

- 코드의 관련 요소를 캡슐화하여 모듈을 작성하면 코드가 정리되고 복잡도가 낮아진다.
  - 하지만 대규모 소프트웨어가 되면 대량으로 작성된 모듈이 오히려 복잡성을 낳는 결과를 초래한다.
- 패키지화는 다음과 같은 이점이 있다.
  - 소프트웨어 전체가 패키지라는 작은 단위로 분할되므로 복잡도가 낮아진다.
  - 패키지 안에 관련 없은 모듈이 섞이지 않으므로 모듈을 관리하기 쉬워진다.
  - 수정에 대한 영향도가 패키지 안에 머무를 가능성이 높으므로 코드를 변경하기 쉬워진다.
  - 종속 관계가 정리되어 패키지 단위로 재사용하기 쉬워진다.

### 상향식으로 패키지 설계

- 패키지 설계는 모듈이 어느 정도 만들어진 다음에 상향식으로 설계한다.
- 개발이 진행되다 보면 모듈이 점점 늘어난다.

## 3.16 관심의 분리

### 관심별로 코드를 분리

- 관심이란 소프트웨어의 기능이나 목적을 뜻한다.
- 관심을 분리한다는 것은 각각의 관심에 관련된 코드를 모아 독립된 모듈로 만들어 다른 코드로부터 분리한다는 뜻이다.

### 관심 단위로 변경이 이루어진다

- 관심별 분리의 이점
  - 관심별로 독립해서 수정할 수 있으므로 읽는 범위가 한정되고 변경이 쉬워진다.
  - 영향 범위가 관심 안에 머무르므로 변경 시 품질이 안정된다.
  - 코드를 작성할 때는 관심 단위로 개발하므로 분업, 병행하여 개발을 진행할 수 있다.

### 관심 단위로 모듈화

- 관심별로 모듈을 작성하여 서로 다른 책임이나 관계없는 책임은 분리해 둔다.

### 관점 지향 프로그래밍

- 관점 지향 프로그래밍(AOP: Aspect-Oriented Programming)은 관심 중에서도 횡단적 관심을 분리한 기술이다.
- 횡단적 관심이란 각 관심을 옆쪽에서 꼬챙이로 꿰는 듯한 관심을 뜻한다.
- 일반적으로 횡단적 관심은 분리되지 않은 상태로 각 기능에 산재해 있는데, 이는 코드의 변경을 방해하는 커다란 요인이다.

## 3.17 충족성, 완전성, 프리미티브성

### 표현이 충분하고 완벽하면서 순수함

- 충족성
  - 모듈이 표현하고자 하는 추상이 그것을 전하기에 충분한지를 뜻한다.
- 완전성
  - 모듈이 표현하고자 하는 추상이 모든 특징을 갖추고 있는지를 뜻한다.
- 프리미티브성
  - 모듈이 표현하고 하는 추상이 모두 순수한지 아닌지를 의미한다.

### 표현하고 있는 추상을 정확히 전한다

- 모듈이 표현하고자 하는 추상은 의도가 사용하는 사람에게 전해져야 하고, 유용해야 한다.
- 모듈이 충분하지 않으면 정보가 부족해서 클라이언트는 모듈의 본질을 놓친다.
- 모듈이 완전하지 않으면 클라이언트가 안심하고 사용할 수 없다.
- 모듈이 프리미티브하지 않으면 클라이언트가 모듈을 사용하기 어려워진다.

### 모듈의 추상을 빈틈없이 표현

- 정보는 너무 많아도 너무 적어도 전달되지 않는다.
- 모듈이 제공하는 함수는 충분하고 완전하며 순수한 라인업이어야 한다.

## 3.18 정책과 구현의 분리

### 정책과 구현은 섞지 않는다

- 정책 모듈
  - 해당 소프트웨어의 전체에 종속되는 비즈니스 로직이다.
- 구현 모듈
  - 해당 소프트웨어의 전제에 종속되지 않는 독립된 로직 부분이다.

### 구현은 안정적이지만 정책은 불안정

- 구현 모듈은 특정 소프트웨어에 종속되지 않는 순수한 모듈이므로 다른 소프트웨어에서도 재사용할 수 있다.
- 정책 모듈은 해당 소프트웨어에 특화더이 있어, 해당 소프트웨어가 변경되면 정책 모듈은 변경을 강요당한다.

### 정책과 구현은 별개 모듈로

- 소프트웨어의 전제체 종속되는 부분인 정책과 종속되지 않는 부분인 구현을 의식해서 설계한다.
- 분리할 수 없을 때 적어도 모듈 내에서 정책 부분과 구현 부분을 명확히 알 수 있도록 표현해 두어야 한다.

## 3.19 인터페이스와 구현의 분리

### 구성은 인터페이스와 구현으로

- 인터페이스 파트
  - 모듈이 가진 기능을 정의하고 모듈의 사용방법을 정하는 부분이다.
- 구현 파트
  - 모듈이 가진 기능을 실현하는 코드 부분이다.

### 사용자는 인터페이스만 알면 된다

- 인터페이스와 구현이 분리되면 모듈을 사용하는 클라이언트는 구현에 대한 상세를 알 필요가 없어진다.
- 인터페이스와 구현이 분리되면 클라이언트에서의 사용법(=인터페이스)과 기능의 실현 방법(=구현)이 서로 독립성을 확보할 수 있다.

### 인터페이스를 사용해서 설계한다

- 모듈에 관한 설계 원리로 구현이 아닌 인터페이스에 맞춰 프로그래밍 한다.
